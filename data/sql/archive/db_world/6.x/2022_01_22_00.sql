-- DB update 2022_01_21_03 -> 2022_01_22_00
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_world' AND COLUMN_NAME = '2022_01_21_03';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_world CHANGE COLUMN 2022_01_21_03 2022_01_22_00 bit;
SELECT sql_rev INTO OK FROM version_db_world WHERE sql_rev = '1642793180695241397'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_world` (`sql_rev`) VALUES ('1642793180695241397');

UPDATE `creature` SET `MovementType`='2' WHERE  `guid`=79875;

DELETE FROM `creature_addon` WHERE `guid`=79875;
INSERT INTO `creature_addon` (`guid`, `path_id`, `mount`, `bytes1`, `bytes2`, `emote`, `visibilityDistanceType`, `auras`) VALUES 
(79875, 798750, 0, 0, 1, 0, 0, '5301');

DELETE FROM `waypoint_data` WHERE `id`=798750;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`) VALUES 
(798750, 1, -9179.97, 317.222, 79.7102, 1.29718, 0, 0, 0, 100, 0),
(798750, 2, -9177.49, 327.891, 81.5507, 1.33724, 0, 0, 0, 100, 0),
(798750, 3, -9170.12, 340.35, 84.9204, 1.03643, 0, 0, 0, 100, 0),
(798750, 4, -9163.7, 349.368, 87.4007, 0.996378, 0, 0, 0, 100, 0),
(798750, 5, -9152.55, 360.822, 90.043, 0.798457, 0, 0, 0, 100, 0),
(798750, 6, -9143.13, 371.63, 90.5833, 0.862075, 0, 0, 0, 100, 0),
(798750, 7, -9128.97, 385.17, 90.8127, 0.744265, 0, 0, 0, 100, 0),
(798750, 8, -9113.69, 397.208, 92.4592, 0.706566, 0, 0, 0, 100, 0),
(798750, 9, -9101.59, 407.083, 92.6166, 0.706566, 0, 0, 0, 100, 0),
(798750, 10, -9113.45, 401.771, 92.5626, 3.60312, 0, 0, 0, 100, 0),
(798750, 11, -9128.7, 391.832, 91.3942, 3.70914, 0, 0, 0, 100, 0),
(798750, 12, -9138.45, 384.035, 90.7592, 3.81596, 0, 0, 0, 100, 0),
(798750, 13, -9147.7, 375.849, 90.8194, 3.88193, 0, 0, 0, 100, 0),
(798750, 14, -9158.59, 361.835, 89.5405, 4.05315, 0, 0, 0, 100, 0),
(798750, 15, -9169.93, 349.923, 86.1751, 3.97304, 0, 0, 0, 100, 0),
(798750, 16, -9177.2, 341.151, 84.0438, 4.05315, 0, 0, 0, 100, 0),
(798750, 17, -9181.35, 329.61, 81.6662, 4.36731, 0, 0, 0, 100, 0),
(798750, 18, -9183.56, 318.146, 79.6914, 4.52517, 0, 0, 0, 100, 0),
(798750, 19, -9183.55, 302.751, 78.2169, 4.68461, 0, 0, 0, 100, 0),
(798750, 20, -9184.1, 282.914, 76.1375, 4.68461, 0, 0, 0, 100, 0),
(798750, 21, -9184.61, 264.469, 74.4066, 4.68461, 0, 0, 0, 100, 0),
(798750, 22, -9186.93, 250.9, 73.3399, 4.58015, 0, 0, 0, 100, 0),
(798750, 23, -9191.19, 238.413, 72.2797, 4.38302, 0, 0, 0, 100, 0),
(798750, 24, -9195.36, 230.379, 71.8332, 4.3406, 0, 0, 0, 100, 0),
(798750, 25, -9199.49, 226.12, 71.6102, 3.8568, 0, 0, 0, 100, 0),
(798750, 26, -9210.48, 216.954, 70.8167, 3.80339, 0, 0, 0, 100, 0),
(798750, 27, -9219.89, 206.892, 69.32, 3.96047, 0, 0, 0, 100, 0),
(798750, 28, -9230.13, 194.153, 68.1122, 4.03823, 0, 0, 0, 100, 0),
(798750, 29, -9237.65, 182.77, 67.7178, 4.10184, 0, 0, 0, 100, 0),
(798750, 30, -9244.54, 172.092, 67.9077, 3.92906, 0, 0, 0, 100, 0),
(798750, 31, -9249.81, 166.19, 67.89, 4.04451, 0, 0, 0, 100, 0),
(798750, 32, -9257.42, 161.68, 67.6359, 3.72956, 0, 0, 0, 100, 0),
(798750, 33, -9270.23, 156.602, 67.1847, 3.51908, 0, 0, 0, 100, 0),
(798750, 34, -9285.68, 154.2, 66.8538, 3.29445, 0, 0, 0, 100, 0),
(798750, 35, -9305.36, 146.174, 66.0585, 3.52929, 0, 0, 0, 100, 0),
(798750, 36, -9323.79, 135.172, 64.4473, 3.65888, 0, 0, 0, 100, 0),
(798750, 37, -9340.25, 124.56, 63.5658, 3.71464, 0, 0, 0, 100, 0),
(798750, 38, -9353.49, 117.672, 62.4263, 3.59683, 0, 0, 0, 100, 0),
(798750, 39, -9363.35, 112.846, 61.4359, 3.59683, 0, 0, 0, 100, 0),
(798750, 40, -9374.73, 109.4, 60.6721, 3.46724, 0, 0, 0, 100, 0),
(798750, 41, -9391.14, 105.338, 59.4468, 3.40362, 0, 0, 0, 100, 0),
(798750, 42, -9403.03, 98.8523, 58.6535, 3.6416, 0, 0, 0, 100, 0),
(798750, 43, -9418.19, 87.5846, 57.0221, 3.76177, 0, 0, 0, 100, 0),
(798750, 44, -9438.78, 70.9719, 56.0661, 3.83952, 0, 0, 0, 100, 0),
(798750, 45, -9428.19, 75.6371, 56.4119, 0.686148, 0, 0, 0, 100, 0),
(798750, 46, -9414.9, 85.4725, 57.0368, 0.723847, 0, 0, 0, 100, 0),
(798750, 47, -9406.21, 92.3221, 57.9506, 0.643737, 0, 0, 0, 100, 0),
(798750, 48, -9390.33, 98.3514, 59.2352, 0.434035, 0, 0, 0, 100, 0),
(798750, 49, -9374.89, 103.568, 60.555, 0.407332, 0, 0, 0, 100, 0),
(798750, 50, -9363.94, 107.469, 61.2846, 0.327221, 0, 0, 0, 100, 0),
(798750, 51, -9348.05, 114.269, 62.5175, 0.404975, 0, 0, 0, 100, 0),
(798750, 52, -9331.7, 124.865, 63.5757, 0.564411, 0, 0, 0, 100, 0),
(798750, 53, -9315.07, 134.805, 64.8163, 0.513361, 0, 0, 0, 100, 0),
(798750, 54, -9302.66, 141.8, 65.6914, 0.513361, 0, 0, 0, 100, 0),
(798750, 55, -9291.3, 145.351, 66.3312, 0.302874, 0, 0, 0, 100, 0),
(798750, 56, -9275.2, 148.153, 66.9743, 0.171712, 0, 0, 0, 100, 0),
(798750, 57, -9262.77, 150.307, 67.5392, 0.171712, 0, 0, 0, 100, 0),
(798750, 58, -9253.35, 155.635, 67.9048, 0.564411, 0, 0, 0, 100, 0),
(798750, 59, -9243.59, 165.812, 67.9997, 0.747409, 0, 0, 0, 100, 0),
(798750, 60, -9231.75, 182.609, 67.8127, 0.958682, 0, 0, 0, 100, 0),
(798750, 61, -9219.18, 197.183, 68.7904, 0.840872, 0, 0, 0, 100, 0),
(798750, 62, -9208.44, 209.188, 70.3447, 0.840872, 0, 0, 0, 100, 0),
(798750, 63, -9197.62, 219.292, 71.5073, 0.785108, 0, 0, 0, 100, 0),
(798750, 64, -9190.19, 226.719, 71.9736, 0.785108, 0, 0, 0, 100, 0),
(798750, 65, -9184.74, 235.29, 72.4511, 1.00659, 0, 0, 0, 100, 0),
(798750, 66, -9179.6, 250.316, 73.7374, 1.24143, 0, 0, 0, 100, 0),
(798750, 67, -9177.47, 260.132, 74.495, 1.35924, 0, 0, 0, 100, 0),
(798750, 68, -9177.67, 279.13, 75.8201, 1.58543, 0, 0, 0, 100, 0),
(798750, 69, -9178.02, 302.941, 78.7782, 1.58543, 0, 0, 0, 100, 0);

--
-- END UPDATING QUERIES
--
UPDATE version_db_world SET date = '2022_01_22_00' WHERE sql_rev = '1642793180695241397';
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
