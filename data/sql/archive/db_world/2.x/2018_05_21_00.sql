-- DB update 2018_05_20_00 -> 2018_05_21_00
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_world' AND COLUMN_NAME = '2018_05_20_00';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_world CHANGE COLUMN 2018_05_20_00 2018_05_21_00 bit;
SELECT sql_rev INTO OK FROM version_db_world WHERE sql_rev = '1526310290434262928'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO version_db_world(sql_rev) VALUES ('1526310290434262928');

-- DB/Misc: Death knights area rework

-- Remove duplicates
DELETE FROM `gameobject` WHERE `guid` IN (66336,66508,66521,66350,66491,66320,66337,66509,66484,66314,66327,66499,66505,66333);

-- Phase: 1+4+64+128
UPDATE `gameobject` SET `phaseMask` = 197 WHERE `guid` IN (66021,66039,65983,66023,65971,66006,66016);

-- Remove duplicates
DELETE FROM `creature` WHERE `guid` IN (129218,129219);
DELETE FROM `creature_addon` WHERE `guid` IN (129218,129219);
DELETE FROM `creature` WHERE `guid` IN (128590,128594);
DELETE FROM `creature_addon` WHERE `guid` IN (128590,128594);
DELETE FROM `creature` WHERE `guid` IN (130509,130514,130520,130510,130540,130529,130492,130489,130533,130534,130541,130518,130538,130523);
DELETE FROM `creature_addon` WHERE `guid` IN (130509,130514,130520,130510,130540,130529,130492,130489,130533,130534,130541,130518,130538,130523);
DELETE FROM `creature` WHERE `guid` IN (130721,130793,130733,130722,130658,130815,130602,130574,130828,130795,130695,130689,130797,130683,130826,130690,130660);
DELETE FROM `creature_addon` WHERE `guid` IN (130721,130793,130733,130722,130658,130815,130602,130574,130828,130795,130695,130689,130797,130683,130826,130690,130660);

-- Remove Acherus Deathchargers
DELETE FROM `creature` WHERE `guid` IN (128616,128617,128618,128619,128620,128621,128622,128623,128624,128625,128626);
DELETE FROM `creature_addon` WHERE `guid` IN (128616,128617,128618,128619,128620,128621,128622,128623,128624,128625,128626);

INSERT INTO `gameobject` (`guid`, `id`, `map`, `spawnMask`, `phaseMask`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecs`, `animprogress`, `state`) VALUES
(66336,191206,0,1,449, 2460.06, -5593.7, 367.394, 0.556369, 0, 0, 0.27461, 0.961556, 180,255,1),
(66508,191206,609, 1, 231, 2460.06, -5593.7, 367.394, 0.556369, 0, 0, 0.27461, 0.961556, 180,255, 1);

UPDATE `creature` SET `phaseMask` = 231 WHERE `guid` IN (128753,128754);
UPDATE `creature` SET `phaseMask` = 448 WHERE `guid` IN (130470,130468,130469,130503,130474,130501,130475,130502,130471,130472,130504,130480,130473,130479,130481);
UPDATE `gameobject` SET `phaseMask` = 231 WHERE `guid` IN (66486,151237,151235,66620,65897,65899,66235,66389,66385,65882,66393,65884,66401,66397,65886);

DELETE FROM `gameobject` WHERE `guid` = 66435 AND `id` = 190790;
UPDATE `gameobject` SET `phaseMask` = 196 WHERE `guid` IN (66258,66292,66352,66353,66356,66359,66360,66362,66365,66374);
UPDATE `gameobject` SET `phaseMask` = 449 WHERE `guid` IN (63178,66476,63179,63192,63191,63177,66392,63181,66396,63185,63183,63184,151236,151238);

-- Remove duplicates
DELETE FROM `gameobject` WHERE `guid` IN (66388,63190,66477,66390,66474,66386,63180,66394,63182,66402,66398,66400);
DELETE FROM `gameobject_addon` WHERE `guid` IN (66388,63190,66477,66390,66474,66386,63180,66394,63182,66402,66398,66400);

-- Terrifying Abomination
UPDATE `creature` SET `position_x` = 2404.614258, `position_y` = -5576.001953, `position_z` = 420.648224, `orientation` = 2.847471 WHERE `guid` = 130527;
UPDATE `creature` SET `position_x` = 2417.488770, `position_y` = -5587.981445, `position_z` = 420.643829, `orientation` = 4.783482 WHERE `guid` = 130526;
UPDATE `creature` SET `position_x` = 2524.172363, `position_y` = -5605.970215, `position_z` = 420.650696, `orientation` = 2.712384 WHERE `guid` = 130513;
UPDATE `creature` SET `spawndist` = 5, `MovementType` = 1 WHERE `guid` IN (130532,130535,130522,130511,130508,130531,130537,130524);
UPDATE `creature` SET `spawndist` = 10, `MovementType` = 1 WHERE `guid` IN (130526,130527,130530,130521,130517,130515,130512,130505,130506,130528,130513,130516,130519,130525,130539,130507,130536);

UPDATE `creature` SET `spawndist` = 5, `MovementType` = 1, `position_x` = 2075.854248, `position_y` = -5813.127441, `position_z` = 103.679993 WHERE `guid` = 128612;
UPDATE `creature` SET `spawndist` = 5, `MovementType` = 1 WHERE `guid` IN (128608);

INSERT INTO `creature` (`guid`, `id`, `modelid`, `map`, `spawnMask`, `phaseMask`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecs`, `spawndist`, `curhealth`, `curmana`, `MovementType`) VALUES
-- Shadowy Tormentor
(129218,28769,0,609,1,32,1902.95,-5955.07,101.263,2.27154,180,10,2533,2041,1),
(129219,28769,0,609,1,32,1960.02,-5924.01,103.603,6.03438,180,10,2533,2041,1),
(128590,28769,0,609,1,32,1819.11,-5951.05,115.852,0.701524,180,5,2614,2117,1),
(128594,28769,0,609,1,32,1866.44,-5860.22,103.126,0.556227,180,10,2614,2117,1),
(130509,28769,0,609,1,32,1885.3,-5816.69,102.541,0.261702,180,10,2533,2041,1),
(130514,28769,0,609,1,32,1790.1,-5818.49,112.12,3.12841,180,5,2533,2041,1),
(130520,28769,0,609,1,32,1916.17,-5840.27,100.331,6.12072,180,5,2533,2041,1),
(130510,28769,0,609,1,32,1986.19,-5870.75,100.755,6.12072,180,5,2533,2041,1),
(130540,28769,0,609,1,32,1956.4,-5826.27,100.899,1.71463,180,5,2614,2117,1),
(130529,28769,0,609,1,32,2178.73,-5713.52,104.315,1.03918,180,5,2614,2117,1),
(130492,28769,0,609,1,32,2407.38,-5870.48,104.583,0.586521,180,5,2533,2041,1),
-- Acherus Deathcharger
(130489, 28782, 0, 609, 1, 32, 2001.01, -5751.81, 100.406, 0.171432, 300, 0, 13945, 0, 2), -- a1
(130533, 28782, 0, 609, 1, 32, 2073.95, -5826.98, 102.545, 3.93079, 300, 0, 13945, 0, 2), -- a2
(130534, 28782, 0, 609, 1, 32, 2148.43, -5845.69, 101.442, 0.626997, 300, 5, 13945, 0, 1),
(130541, 28782, 0, 609, 1, 32, 2075.35, -5732.3, 100.603, 3.24235, 300, 0, 13945, 0, 2), -- a3
(130518, 28782, 0, 609, 1, 32, 2182.98, -5809.45, 101.349, 3.35844, 300, 5, 13945, 0, 1),
(130523, 28782, 0, 609, 1, 32, 2118.86, -5762.01, 98.3906, 5.44513, 300, 0, 13945, 0, 2), -- a4
(130721, 28782, 0, 609, 1, 32, 2418.68, -5861.42, 105.389, 0.918315, 300, 5, 13945, 0, 1),
(130793, 28782, 0, 609, 1, 32, 2269.36, -5881.98, 101.434, 3.32927, 300, 5, 13945, 0, 1),
(130733, 28782, 0, 609, 1, 32, 2209.41, -5781.98, 101.664, 1.30337, 300, 0, 13945, 0, 2), -- a5
(130722, 28782, 0, 609, 1, 32, 2367.25, -5862.79, 104.402, 2.97649, 300, 0, 13945, 0, 2), -- a6
(130658, 28782, 0, 609, 1, 32, 1916.27, -5804.42, 100.63, 6.15663, 300, 0, 13945, 0, 2), -- a7
(130815, 28782, 0, 609, 1, 32, 2005.31, -5803.76, 100.497, 5.81834, 300, 5, 13945, 0, 1),
(130602, 28782, 0, 609, 1, 32, 1982.02, -5838.93, 100.586, 5.944, 300, 5, 13945, 0, 1),
(130574, 28782, 0, 609, 1, 32, 1701.76, -5932.44, 121.546, 0.159556, 300, 5, 13945, 0, 1),
(130828, 28782, 0, 609, 1, 32, 1696.68, -5873.42, 116.141, 3.16371, 300, 5, 13945, 0, 1),
(130795, 28782, 0, 609, 1, 32, 1776.86, -5834.88, 116.695, 0.381869, 300, 5, 13945, 0, 1),
(130695, 28782, 0, 609, 1, 32, 1964.41, -5981.98, 81.3935, 6.10481, 300, 0, 13945, 0, 2), -- a8
(130689, 28782, 0, 609, 1, 32, 1897.38, -5977.18, 101.464, 2.40166, 300, 0, 13945, 0, 2), -- a9
(130797, 28782, 0, 609, 1, 32, 2164.21, -6157.62, 1.88909, 1.3963, 300, 10, 13945, 0, 1),
(130683, 28782, 0, 609, 1, 32, 2128.02, -6112.92, 5.72541, 3.61112, 300, 10, 13945, 0, 1),
(130826, 28782, 0, 609, 1, 32, 2182.85, -6086, 3.07005, 1.01537, 300, 10, 13945, 0, 1),
(130690, 28782, 0, 609, 1, 32, 2241.39, -6087.69, 5.96331, 2.16205, 300, 10, 13945, 0, 1),
(130660, 28782, 0, 609, 1, 32, 2244.18, -6149.44, 2.44773, 0.0768139, 300, 10, 13945, 0, 1),
(130538, 28782, 0, 609, 1, 32, 2321.17, -6131.9, 6.67798, 0.320285, 300, 10, 13945, 0, 1);

-- Acherus Deathcharger - waypoints
DELETE FROM `creature_addon` WHERE `guid` IN (130689,130695,130658,130489,130523,130541,130733,130533,130722);
INSERT INTO `creature_addon` (`guid`, `path_id`, `mount`, `bytes1`, `bytes2`, `emote`, `auras`) VALUES
(130689, 1306890, 0, 0, 0, 0, ''),
(130695, 1306950, 0, 0, 0, 0, ''),
(130658, 1306580, 0, 0, 0, 0, ''),
(130489, 1304890, 0, 0, 0, 0, ''),
(130523, 1305230, 0, 0, 0, 0, ''),
(130541, 1305410, 0, 0, 0, 0, ''),
(130733, 1307330, 0, 0, 0, 0, ''),
(130533, 1305330, 0, 0, 0, 0, ''),
(130722, 1307220, 0, 0, 0, 0, '');

DELETE FROM `waypoint_data` WHERE `id` IN (1306890,1306950,1306580,1304890,1305230,1305410,1307330,1305330,1307220);
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `move_type`, `action_chance`) VALUES
(1306890,1,1882.36,-5955.49,101.544,1.80632,0,100),  -- a9
(1306890,2,1874.9,-5932.71,103.817,2.00659,0,100),
(1306890,3,1865.36,-5906.65,103.934,1.25575,0,100),
(1306890,4,1867.91,-5901.32,103.717,0.770302,0,100),
(1306890,5,1879.87,-5895.75,103.284,0.160833,0,100),
(1306890,6,1907.99,-5897.99,101.861,6.15342,0,100),
(1306890,7,1931.99,-5918.86,102.116,5.51333,0,100),
(1306890,8,1936.27,-5929.07,102.609,4.88894,0,100),
(1306890,9,1935.36,-5946.3,101.772,4.39022,0,100),
(1306890,10,1917.75,-5980.09,100.934,3.66451,0,100),
(1306890,11,1909.71,-5983.55,100.937,2.77817,0,100),
(1306890,12,1896.84,-5976.78,101.433,2.45428,0,100),
(1306950,1,2005.65,-5985.93,47.0695,6.14172,0,100),  -- a8
(1306950,2,2025.76,-5986.97,34.9653,5.92966,0,100),
(1306950,3,2040.82,-5991.42,27.1636,5.74901,0,100),
(1306950,4,2070.46,-6009.69,14.1364,5.60057,0,100),
(1306950,5,2089.86,-6031.21,10.0122,5.30605,0,100),
(1306950,6,2072.09,-6010.45,13.7143,2.50846,0,100),
(1306950,7,2040.48,-5991.45,27.3068,2.87446,0,100),
(1306950,8,2022.21,-5986.12,36.6479,3.07238,0,100),
(1306950,9,2005.33,-5984.7,47.3562,3.06453,0,100),
(1306950,10,1985.14,-5984.29,64.3585,3.15092,0,100),
(1306950,11,1951.75,-5980.51,93.0818,3.01348,0,100),
(1306950,12,1965.68,-5982.22,80.2084,6.159,0,100),
(1306580,1,1933.95,-5806.67,100.245,5.99641,0,100),  -- a7
(1306580,2,1945.86,-5813.73,100.779,5.4694,0,100),
(1306580,3,1961.44,-5840.48,100.637,5.18745,0,100),
(1306580,4,1966.66,-5861.56,100.6,4.34237,0,100),
(1306580,5,1964.91,-5867.95,100.508,3.9913,0,100),
(1306580,6,1956.87,-5870.35,100.217,3.1093,0,100),
(1306580,7,1931.44,-5850.91,100.611,2.93572,0,100),
(1306580,8,1896.73,-5840.75,101.032,2.79043,0,100),
(1306580,9,1870.92,-5827.95,100.827,2.29641,0,100),
(1306580,10,1866.13,-5817.68,100.414,1.58562,0,100),
(1306580,11,1867.51,-5810.04,100.784,0.943974,0,100),
(1306580,12,1880.79,-5807.33,101.536,0.103598,0,100),
(1306580,13,1917.54,-5804.33,100.47,0.0564738,0,100),
(1304890,1,2012.65,-5766.82,101.908,5.08146,0,100),  -- a1
(1304890,2,2012.14,-5778.92,100.659,4.34947,0,100),
(1304890,3,2005.69,-5788.39,100.538,3.81619,0,100),
(1304890,4,1992.83,-5796.53,100.904,3.42427,0,100),
(1304890,5,1977.37,-5798.82,100.965,3.22007,0,100),
(1304890,6,1956.35,-5798.48,100.68,2.68207,0,100),
(1304890,7,1950.08,-5792.8,100.576,1.73567,0,100),
(1304890,8,1948,-5778.37,101.592,1.39559,0,100),
(1304890,9,1955.68,-5760.57,103.729,0.997391,0,100),
(1304890,10,1970.85,-5748.14,100.11,0.445256,0,100),
(1304890,11,1983.79,-5745.21,100.716,6.25563,0,100),
(1304890,12,2001.9,-5751.86,100.288,5.70193,0,100),
(1305230,1,2143.1,-5763.74,99.1894,0.042808,0,100),  -- a4
(1305230,2,2158.52,-5758,100.807,0.74574,0,100),
(1305230,3,2167.47,-5748.11,101.298,1.26724,0,100),
(1305230,4,2168.65,-5736.46,101.5,1.85001,0,100),
(1305230,5,2163.36,-5724.34,101.512,2.5765,0,100),
(1305230,6,2146.22,-5716.27,101.323,2.97313,0,100),
(1305230,7,2131.05,-5717.9,100.65,3.32263,0,100),
(1305230,8,2118.41,-5722.32,100.284,3.66585,0,100),
(1305230,9,2109.52,-5728.53,100.256,4.27375,0,100),
(1305230,10,2110.18,-5751.87,99.217,5.34581,0,100),
(1305230,11,2120.91,-5759.71,98.2946,5.88381,0,100),
(1305410,1,2060.01,-5736.85,99.4104,4.19071,0,100),  -- a3
(1305410,2,2040.93,-5742.01,98.898,4.58348,0,100),
(1305410,3,2040.36,-5751.12,98.3689,5.23772,0,100),
(1305410,4,2048.32,-5756.86,98.2594,5.91356,0,100),
(1305410,5,2078.87,-5771.83,99.3538,5.89628,0,100),
(1305410,6,2104.07,-5773.74,98.5503,0.466729,0,100),
(1305410,7,2113.36,-5765.92,98.3596,1.20721,0,100),
(1305410,8,2113.29,-5753.52,98.9282,1.74548,0,100),
(1305410,9,2100.27,-5733.9,100.305,2.53245,0,100),
(1305410,10,2079.04,-5731.29,101.095,3.28643,0,100),
(1307330,1,2228.35,-5760.27,101.822,1.00292,0,100),  -- a5
(1307330,2,2233.22,-5750.22,102.033,1.5692,0,100),
(1307330,3,2229.94,-5742.19,102.264,2.49204,0,100),
(1307330,4,2222.34,-5740.54,102.381,3.51777,0,100),
(1307330,5,2207.17,-5751.14,102.475,3.26795,0,100),
(1307330,6,2192.29,-5752.01,102.102,3.66594,0,100),
(1307330,7,2180.72,-5763.48,101.405,4.31232,0,100),
(1307330,8,2177.95,-5775.62,101.446,4.8079,0,100),
(1307330,9,2183.4,-5789.55,101.215,5.437,0,100),
(1307330,10,2192.32,-5800.57,101.343,5.88075,0,100),
(1307330,11,2197.79,-5802.79,101.343,0.104141,0,100),
(1307330,12,2202.69,-5798.95,101.353,1.02777,0,100),
(1307330,13,2205.39,-5788.79,101.428,1.17857,0,100),
(1307330,14,2209.36,-5781.51,101.583,0.970436,0,100),
(1305330,1,2062.58,-5842.36,101.834,4.57897,0,100), -- a2
(1305330,2,2060.66,-5853.1,102.729,4.9638,0,100),
(1305330,3,2069.14,-5867.93,104.056,5.59447,0,100),
(1305330,4,2081.6,-5874.41,103.633,6.16466,0,100),
(1305330,5,2093.99,-5876.63,103.667,0.0236323,0,100),
(1305330,6,2107.09,-5873.46,103.113,0.40455,0,100),
(1305330,7,2138.44,-5856.49,101.382,0.834949,0,100),
(1305330,8,2142.65,-5850.75,101.348,1.23,0,100),
(1305330,9,2143.37,-5822.25,101.037,1.77193,0,100),
(1305330,10,2136.56,-5806.08,99.9357,2.03504,0,100),
(1305330,11,2125.4,-5788.11,98.7693,1.86304,0,100),
(1305330,12,2119.43,-5779.51,98.2978,2.40947,0,100),
(1305330,13,2112.23,-5773.94,98.2264,2.854,0,100),
(1305330,14,2100.67,-5772.24,98.7518,3.45797,0,100),
(1305330,15,2091.23,-5777.37,99.1191,4.10671,0,100),
(1305330,16,2084.55,-5802,102.372,4.37453,0,100),
(1305330,17,2076.55,-5818.84,103.546,4.20567,0,100),
(1307220,1,2337.09,-5858.43,100.959,2.98435,0,100),  -- a6
(1307220,2,2307.45,-5851.65,100.935,2.87832,0,100),
(1307220,3,2278.95,-5843.84,100.935,2.76051,0,100),
(1307220,4,2264.71,-5835.39,100.974,2.5406,0,100),
(1307220,5,2262.84,-5826.59,100.958,1.57456,0,100),
(1307220,6,2270.84,-5818.56,100.935,0.608518,0,100),
(1307220,7,2284.09,-5819.16,100.935,6.0474,0,100),
(1307220,8,2298.8,-5824.22,100.987,5.79293,0,100),
(1307220,9,2312.55,-5839.9,100.953,5.33348,0,100),
(1307220,10,2325.54,-5851.61,100.935,5.76702,0,100),
(1307220,11,2351.08,-5858.36,102.555,6.0851,0,100),
(1307220,12,2381.22,-5863.9,104.839,6.12044,0,100),
(1307220,13,2401.84,-5870.31,104.584,5.93587,0,100),
(1307220,14,2408.96,-5872.56,104.584,0.166336,0,100),
(1307220,15,2414.42,-5870.57,104.674,0.800151,0,100),
(1307220,16,2416.9,-5865.46,104.942,1.49601,0,100),
(1307220,17,2414.3,-5857.98,105.677,2.49818,0,100),
(1307220,18,2400.99,-5855.6,106.171,3.2396,0,100),
(1307220,19,2367.56,-5862.54,104.418,3.0998,0,0);

-- Baron Rivendare 
UPDATE `creature` SET `position_x` = 2277.7, `position_y` = -5636.66, `position_z` = 144.788, `orientation` = 4.56454, `Spawndist` = 0, `MovementType` = 2 WHERE `guid` = 130895;
DELETE FROM `creature_addon` WHERE `guid` IN (130895);
INSERT INTO `creature_addon` (`guid`, `path_id`, `mount`, `bytes1`, `bytes2`, `emote`, `auras`) VALUES
(130895, 1308950, 25678, 0, 1, 0, '');

DELETE FROM `waypoint_data` WHERE `id` = 1308950;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `delay`, `action`, `orientation`, `action_chance`) VALUES
(1308950,1,2277.7,-5636.66,144.788,1000,0,4.56454,100),
(1308950,2,2276.12,-5647.62,142.619,0,0,4.56454,100),
(1308950,3,2273.55,-5664.07,143.92,0,0,1.52897,100),
(1308950,4,2276.12,-5647.62,142.619,0,0,1.47793,100),
(1308950,5,2277.7,-5636.66,144.788,0,0,4.56454,100),
(1308950,6,2276.12,-5647.62,142.619,0,0,4.56454,100),
(1308950,7,2273.55,-5664.07,143.92,0,0,1.52897,100),
(1308950,8,2276.12,-5647.62,142.619,0,0,1.47793,100);

-- Death Knight Champion
UPDATE `creature` SET `position_x` = 2419.523193, `position_y` = -5774.515137, `position_z` = 148.158127, `orientation` = 5.291478, `Spawndist` = 0, `MovementType` = 0 WHERE `guid` = 130891;
UPDATE `creature` SET `position_x` = 2413.764893, `position_y` = -5777.067383, `position_z` = 149.278229, `orientation` = 5.578143, `Spawndist` = 0, `MovementType` = 0 WHERE `guid` = 130889;
UPDATE `creature` SET `position_x` = 2425.206787, `position_y` = -5770.046875, `position_z` = 148.509720, `orientation` = 4.989102, `Spawndist` = 0, `MovementType` = 0 WHERE `guid` = 130888;
UPDATE `creature` SET `position_x` = 2267.978, `position_y` = -5652.68, `position_z` = 140.1605, `orientation` = 2.879793, `Spawndist` = 0, `MovementType` = 0 WHERE `guid` = 130879;
UPDATE `creature` SET `position_x` = 2268.687, `position_y` = -5645.526,`position_z` = 140.816, `orientation` = 3.211406, `Spawndist` = 0, `MovementType` = 0 WHERE `guid` = 130880;
UPDATE `creature` SET `position_x` = 2268.732, `position_y` = -5666.745, `position_z` = 142.9238, `orientation` = 2.72271, `Spawndist` = 0, `MovementType` = 0 WHERE `guid` = 130881;
UPDATE `creature` SET `position_x` = 2273.045, `position_y` = -5634.715, `position_z` = 144.3555, `orientation` = 3.47320, `Spawndist` = 0, `MovementType` = 0 WHERE `guid` = 130882;
UPDATE `creature` SET `position_x` = 2270.195, `position_y` = -5639.455, `position_z` = 142.3601, `orientation` = 3.29867, `Spawndist` = 0, `MovementType` = 0 WHERE `guid` = 130883;
UPDATE `creature` SET `position_x` = 2268.486, `position_y` = -5659.049, `position_z` = 140.9015, `orientation` = 2.80998, `Spawndist` = 0, `MovementType` = 0 WHERE `guid` = 130884;
UPDATE `creature` SET `position_x` = 2429.15, `position_y` = -5774.347, `position_z` = 146.8119, `orientation` = 4.764749, `Spawndist` = 0, `MovementType` = 0 WHERE `guid` = 130885;
UPDATE `creature` SET `position_x` = 2415.666, `position_y` = -5782.209, `position_z` = 147.3330, `orientation` = 5.268789, `Spawndist` = 0, `MovementType` = 0 WHERE `guid` = 130886;
UPDATE `creature` SET `position_x` = 2419.108, `position_y` = -5778.839, `position_z` = 146.9846, `orientation` = 5.302624, `Spawndist` = 0, `MovementType` = 0 WHERE `guid` = 130890;
UPDATE `creature` SET `position_x` = 2423.652, `position_y` = -5776.316, `position_z` = 146.6569, `orientation` = 5.279853, `Spawndist` = 0, `MovementType` = 0 WHERE `guid` = 130887;
UPDATE `creature_addon` SET `emote` = 375, `auras`="" WHERE `guid` IN (130879,130880,130881,130882,130883,130884,130885,130886,130887,130888,130889,130890,130891);
UPDATE `creature` SET `spawntimesecs` = 30 WHERE `id` = 29106;

DELETE FROM `creature_addon` WHERE `guid` IN (130892);
INSERT INTO `creature_addon` (`guid`, `path_id`, `mount`, `bytes1`, `bytes2`, `emote`, `auras`) VALUES
(130892, 1308920, 25678, 0, 1, 0, '');

UPDATE `creature` SET `Spawndist` = 0,`MovementType` = 2 WHERE `guid` = 130892;
DELETE FROM `waypoint_data` WHERE `id` = 1308920;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `delay`, `action`, `orientation`, `action_chance`) VALUES
(1308920,1,2323.63,-5664.38,153.844,0,0,5.64936,100),
(1308920,2,2349.46,-5696.57,153.922,0,0,5.3619,100),
(1308920,3,2367.64,-5712.81,153.922,0,0,5.60225,100),
(1308920,4,2382.8,-5728.4,153.922,0,0,5.50957,100),
(1308920,5,2401.2,-5743.18,153.922,0,0,5.52056,100),
(1308920,6,2411.25,-5755.46,153.98,3000,0,5.30144,100),
(1308920,7,2400.84,-5742.97,153.922,0,0,2.4151,100),
(1308920,8,2382.62,-5728.3,153.922,0,0,2.32871,100),
(1308920,9,2366.33,-5711.26,153.922,0,0,2.34049,100),
(1308920,10,2344.2,-5688.49,153.923,0,0,2.302,100),
(1308920,11,2308.86,-5647.39,149.308,3000,0,2.49521,100);

-- Hearthglen Crusader/Trisfal Crusader
-- northern group
UPDATE `creature` SET `position_x` = 2433.580078, `position_y` = -5882.046875, `position_z` = 104.645500, `orientation` = 1.990541, `Spawndist` = 0, `MovementType` = 2 WHERE `guid` = 130792;
UPDATE `creature` SET `position_x` = 2418.468994, `position_y` = -5866.832031, `position_z` = 104.968590, `orientation` = 0.950663, `Spawndist` = 0, `MovementType` = 2 WHERE `guid` = 130570;
UPDATE `creature` SET `position_x` = 2423.544189, `position_y` = -5882.778320, `position_z` = 104.604820, `orientation` = 1.472961, `Spawndist` = 0, `MovementType` = 2 WHERE `guid` = 130567;
UPDATE `creature` SET `position_x` = 2404.129639, `position_y` = -5842.262695, `position_z` = 109.902840, `orientation` = 6.244246, `Spawndist` = 0, `MovementType` = 2 WHERE `guid` = 130743;
UPDATE `creature` SET `position_x` = 2408.253418, `position_y` = -5881.060059, `position_z` = 104.593834, `orientation` = 0.957659, `Spawndist` = 0, `MovementType` = 2 WHERE `guid` = 130608;
-- southern group
UPDATE `creature` SET `position_x` = 2205.809814, `position_y` = -5731.661133, `position_z` = 102.208534, `orientation` = 1.472664, `Spawndist` = 0, `MovementType` = 2 WHERE `guid` = 130830;
UPDATE `creature` SET `position_x` = 2161.003906, `position_y` = -5725.638672, `position_z` = 101.332764, `orientation` = 1.153008, `Spawndist` = 0, `MovementType` = 2 WHERE `guid` = 130682;
UPDATE `creature` SET `position_x` = 2150.973389, `position_y` = -5712.687012, `position_z` = 101.909523, `orientation` = 0.783094, `Spawndist` = 0, `MovementType` = 2 WHERE `guid` = 130798;
UPDATE `creature` SET `position_x` = 2126.595215, `position_y` = -5688.541016, `position_z` = 101.155556, `orientation` = 0.204981, `Spawndist` = 0, `MovementType` = 2 WHERE `guid` = 130827;
UPDATE `creature` SET `position_x` = 2114.592529, `position_y` = -5697.796387, `position_z` = 100.391434, `orientation` = 6.034200, `Spawndist` = 0, `MovementType` = 2 WHERE `guid` = 130794;
UPDATE `creature` SET `position_x` = 2144.617188, `position_y` = -5672.694824, `position_z` = 110.442459, `orientation` = 0.335399, `Spawndist` = 0, `MovementType` = 2 WHERE `guid` = 130796;
UPDATE `creature` SET `position_x` = 2196.454834, `position_y` = -5701.930176, `position_z` = 112.392166, `orientation` = 1.223682, `Spawndist` = 0, `MovementType` = 2 WHERE `guid` = 130829;
UPDATE `creature` SET `position_x` = 2147.332275, `position_y` = -5708.847168, `position_z` = 102.006149, `orientation` = 0.499547, `Spawndist` = 0, `MovementType` = 2 WHERE `guid` = 130661;

DELETE FROM `creature_addon` WHERE `guid` IN (130743,130570,130792,130608,130567,130830,130682,130798,130827,130794,130796,130829,130661);
INSERT INTO `creature_addon` (`guid`, `path_id`, `mount`, `bytes1`, `bytes2`, `emote`, `auras`) VALUES
(130743, 1307430, 0, 0, 1, 0, ''),
(130570, 1305700, 0, 0, 1, 0, ''),
(130792, 1307920, 0, 0, 1, 0, ''),
(130608, 1306080, 0, 0, 1, 0, ''),
(130567, 1305670, 0, 0, 1, 0, ''),
(130830, 1308300, 0, 0, 1, 0, ''),
(130682, 1306820, 0, 0, 1, 0, ''),
(130798, 1307980, 0, 0, 1, 0, ''),
(130827, 1308270, 0, 0, 1, 0, ''),
(130794, 1307940, 0, 0, 1, 0, ''),
(130796, 1307960, 0, 0, 1, 0, ''),
(130829, 1308290, 0, 0, 1, 0, ''),
(130661, 1306610, 0, 0, 1, 0, '');

DELETE FROM `waypoint_data` WHERE `id` IN (1307430,1305700,1307920,1306080,1305670,1308300,1306820,1307980,1308270,1307940,1307960,1308290,1306610);
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `delay`, `action`, `orientation`, `action_chance`, `move_type`) VALUES
(1307430,1,2404.129639,-5842.262695,109.902840,2000,0,6.244246,100, 1),
(1307430,2,2425.5,-5847.68,108.85,0,0,0.772094,100, 1),
(1307430,3,2430.1,-5838.91,112.438,0,0,1.23234,100, 1),
(1307430,4,2430.68,-5821.38,119.77,0,0,1.71614,100, 1),
(1307430,5,2428.18,-5809.46,126.166,0,0,1.80646,100, 1),
(1307430,6,2426.04,-5787.39,141.243,0,0,1.66902,100, 1),
(1307430,7,2409.18,-5760.7,152.965,5000,1188,2.32483,100, 1),
(1305700,1,2418.468994,-5866.832031,104.968590,2000,0,0.950663,100, 1),
(1305700,2,2430.8,-5848.82,109.521,0,0,1.01422,100, 1),
(1305700,3,2433.39,-5830.24,115.967,0,0,1.52315,100, 1),
(1305700,4,2433.82,-5819,120.777,0,0,1.75249,100, 1),
(1305700,5,2432.49,-5800.23,132.063,0,0,1.57577,100, 1),
(1305700,6,2426.62,-5784.07,142.837,0,0,2.06665,100, 1),
(1305700,7,2410.1,-5757.59,153.412,5000,1188,2.16482,100, 1),
(1307920,1,2433.580078,-5882.046875,104.645500,2000,0,1.990541,100, 1),
(1307920,2,2432.74,-5862.93,107.076,0,0,1.56086,100, 1),
(1307920,3,2438.97,-5840.58,113.607,0,0,1.36843,100, 1),
(1307920,4,2436.82,-5817.06,121.897,0,0,1.69437,100, 1),
(1307920,5,2436.44,-5803.47,130.055,0,0,1.50588,100, 1),
(1307920,6,2435.01,-5791.9,138.069,0,0,2.21117,100, 1),
(1307920,7,2410.08,-5768.17,152.083,5000,1188,2.47427,100, 1),
(1306080,1,2408.253418,-5881.060059,104.593834,2000,0,0.957659,100, 1),
(1306080,2,2423.95,-5856.89,106.491,0,0,1.16523,100, 1),
(1306080,3,2433.64,-5834,114.61,0,0,1.48489,100, 1),
(1306080,4,2433.44,-5812.11,124.299,0,0,1.63019,100, 1),
(1306080,5,2425.49,-5779.39,145.143,5000,1188,2.05038,100, 1),
(1305670,1,2423.544189,-5882.778320,104.604820,2000,0,1.472961,100, 1),
(1305670,2,2433.82,-5857.11,108.447,0,0,1.36237,100, 1),
(1305670,3,2436.81,-5823.62,119.25,0,0,1.61762,100, 1),
(1305670,4,2431.98,-5802.78,130.28,0,0,1.82575,100, 1),
(1305670,5,2424,-5775.7,146.81,5000,1188,1.97498,100, 1),
(1308300,1,2205.809814,-5731.661133,102.208534,2000,0,1.472664,100, 1),
(1308300,2,2208.49,-5705.15,102.799,0,0,1.7774,100, 1),
(1308300,3,2206.62,-5688.95,110.31,0,0,1.20799,100, 1),
(1308300,4,2213.77,-5676.03,118.232,0,0,1.02342,100, 1),
(1308300,5,2224.66,-5670,124.341,0,0,0.375463,100, 1),
(1308300,6,2240.25,-5670.29,134.257,0,0,6.15207,100, 1),
(1308300,7,2248.5,-5671.39,139.033,0,0,0.109213,100, 1),
(1308300,8,2256.87,-5669.47,139.138,0,0,0.524688,100, 1),
(1308300,9,2276.56,-5651.09,142.69,5000,1188,0.764235,100, 1),
(1306820,1,2161.003906,-5725.638672,101.332764,2000,0,1.153008,100, 1),
(1306820,2,2175.47,-5690.91,108.545,0,0,0.956659,100, 1),
(1306820,3,2198.8,-5668.79,116.512,0,0,0.721039,100, 1),
(1306820,4,2221.04,-5654.31,126.426,0,0,0.481493,100, 1),
(1306820,5,2243.41,-5649.02,132.889,0,0,0.163406,100, 1),
(1306820,6,2277.84,-5647.74,143.051,5000,1188,0.00239992,100, 1),
(1307980,1,2150.973389,-5712.687012,101.909523,2000,0,0.783094,100, 1),
(1307980,2,2179.7,-5682.61,110.924,0,0,0.790948,100, 1),
(1307980,3,2203.85,-5662.88,119.445,0,0,0.661357,100, 1),
(1307980,4,2223,-5649.27,127.826,0,0,0.246667,100, 1),
(1307980,5,2248.94,-5651.66,134.06,0,0,6.15286,100, 1),
(1307980,6,2277.4,-5655.15,143.306,5000,1188,6.25889,100, 1),
(1308270,1,2126.595215,-5688.541016,101.155556,2000,0,0.204981,100, 1),
(1308270,2,2158.87,-5673.12,109.316,0,0,0.711562,100, 1),
(1308270,3,2174.26,-5662.13,114.756,0,0,0.511285,100, 1),
(1308270,4,2199.97,-5651.31,121.689,0,0,0.456308,100, 1),
(1308270,5,2226.78,-5642.05,130.179,0,0,0.142148,100, 1),
(1308270,6,2246.62,-5640.31,135.689,0,0,0.0636083,100, 1),
(1308270,7,2279.48,-5641.56,144.101,5000,1188,0.0478973,100, 1),
(1307940,1,2114.592529,-5697.796387,100.391434,2000,0,6.034200,100, 1),
(1307940,2,2157.63,-5689.16,106.345,0,0,0.323566,100, 1),
(1307940,3,2167.83,-5690.44,107.717,0,0,0.39582,100, 1),
(1307940,4,2190.97,-5669.45,115.191,0,0,0.753176,100, 1),
(1307940,5,2216.44,-5653.29,125.529,0,0,0.497921,100, 1),
(1307940,6,2240.74,-5645.78,132.926,0,0,0.250521,100, 1),
(1307940,7,2282.69,-5645.59,144.297,2000,1188,0.00704718,100, 1),
(1307960,1, 2144.617188,-5672.694824,110.442459,2000,0,0.335399,100, 1),
(1307960,2,2152.14,-5670.07,107.855,0,0,0.335399,100, 1),
(1307960,3,2185.46,-5659.7,117.721,0,0,0.249005,100, 1),
(1307960,4,2220.1,-5657.21,125.484,0,0,0.0369478,100, 1),
(1307960,5,2248.78,-5655.03,133.863,0,0,0.131196,100, 1),
(1307960,6,2281.57,-5648.59,143.968,2000,1188,0.256859,100, 1),
(1308290,1,2196.454834,-5701.930176,112.392166,2000,0,1.223682,100, 1),
(1308290,2,2198.34,-5693.86,110.321,0,0,1.28573,100, 1),
(1308290,3,2206.89,-5672.37,117.232,0,0,1.0611,100, 1),
(1308290,4,2218.14,-5658.96,124.59,0,0,0.812133,100, 1),
(1308290,5,2236.62,-5648.38,131.373,0,0,0.218372,100, 1),
(1308290,6,2284.18,-5642.92,144.844,5000,1188,6.24866,100, 1),
(1306610,1,2147.332275,-5708.847168,102.006149,2000,0,0.499547,100, 1),
(1306610,2,2172.61,-5683.99,109.826,0,0,0.77912,100, 1),
(1306610,3,2199.89,-5659.37,119.516,0,0,0.684872,100, 1),
(1306610,4,2223.32,-5646.06,128.413,0,0,0.377782,100, 1),
(1306610,5,2251.14,-5644.13,135.913,0,0,0.0549819,100, 1),
(1306610,6,2282.16,-5654.42,144.602,5000,1188,5.97689,100, 1);

-- Volatile Ghoul
UPDATE `creature` SET `spawndist` = 15, `MovementType` = 1 WHERE `id` = 29136;
DELETE FROM `creature_addon` WHERE `guid` IN (SELECT `guid` FROM `creature` WHERE `id` = 29136);

-- Set Death Knight Initiates to correct phase (otherwise they're wandering between the enemies without fighting)
UPDATE `creature` SET `phaseMask` = 4 WHERE `guid` IN (129516, 129517, 129518, 129544, 129545, 129555);

-- Set correct aura for dead Scarlet Peasant ("Permanent Feign Death" instead of "Devour Humanoid")
UPDATE `creature_addon` SET `auras` = 29266 WHERE `guid` = 130211;

-- Remove additional duplicates
-- Remove duplicate runeforges (ID 191746,191747,191748):
DELETE FROM `gameobject` WHERE `guid` IN (65865,65866,65867,66234,66236,66387);
-- Remove duplicate anvils (ID 191503,191504,191506,191507):
DELETE FROM `gameobject` WHERE `guid` IN (65883,65885,66237,66238,66240,66241,66391,66399);
-- Remove duplicate forges (ID 191505,191508):
DELETE FROM `gameobject` WHERE `guid` IN (65887,66239,66242,66395);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
