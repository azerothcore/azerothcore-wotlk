-- fix low level scourge invasion quests
-- queststarters / questenders
UPDATE `creature_template` SET `npcflag` = `npcflag` | 2 WHERE (`entry` IN (16484, 16490, 16493, 16495, 29441));

DELETE FROM `creature_queststarter` WHERE (`quest` IN (9261, 9262, 9263, 9264, 12816)) AND (`id` IN (16484, 16490, 16493, 16495, 29441));
INSERT INTO `creature_queststarter` (`id`, `quest`) VALUES
(16484, 9261), -- Lieutenant Nevell
(16490, 9264), -- Lieutenant Lisande
(16495, 9262), -- Lieutenant Beitha
(16493, 9263), -- Lieutenant Dagel
(29441, 12816); -- Lieutenant Julek

DELETE FROM `creature_questender` WHERE (`quest` IN (9261, 9262, 9263, 9264, 12816)) AND (`id` IN (16484, 16490, 16493, 16495, 29441));
INSERT INTO `creature_questender` (`id`, `quest`) VALUES
(16484, 9261), -- Lieutenant Nevell
(16490, 9264), -- Lieutenant Lisande
(16495, 9262), -- Lieutenant Beitha
(16493, 9263), -- Lieutenant Dagel
(29441, 12816); -- Lieutenant Julek

-- areatrigger
DELETE FROM `areatrigger_involvedrelation` WHERE `id` IN (4092, 4094, 4095, 4096, 4098, 4099, 4100, 4101, 4103, 4104, 4105, 5151, 5152, 5153, 5154, 5158, 5159, 5160, 5161);
INSERT INTO `areatrigger_involvedrelation` (`id`, `quest`) VALUES
(4092, 9260),  -- guid 83048
(4094, 9260),  -- guid 83044
(4095, 9260),  -- guid 83049
(4096, 9260),  -- guid 83046
(4098, 9261),  -- guid 83047
(4099, 9261),  -- guid 83045
(4100, 9265),  -- guid 83041
-- (4102, 9263),  -- guid 83043 -- too far away from circle somehow
-- apparently blizzlike bug according to wowhead comments, only 1 circle outside orgrimmar giving quest progress correctly
(4101, 9263),  -- guid 83042
(4103, 9264),  -- guid 83040
(4104, 9262),  -- guid 83039
(4105, 9262),  -- guid 83038
(5151, 12817), -- guid 684
(5152, 12817), -- guid 685
(5153, 12817), -- guid 687
(5154, 12817), -- guid 686
(5158, 12816), -- guid 691
(5159, 12816), -- guid 690
(5160, 12816), -- guid 689
(5161, 12816); -- guid 688

-- Update gameobject 'Circle' with sniffed values
-- updated spawns
DELETE FROM `gameobject` WHERE (`id` IN (181227)) AND (`guid` BETWEEN 83038 AND 83049);
INSERT INTO `gameobject` (`guid`, `id`, `map`, `zoneId`, `areaId`, `spawnMask`, `phaseMask`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecs`, `animprogress`, `state`, `ScriptName`, `VerifiedBuild`, `Comment`) VALUES
(83038, 181227, 1, 0, 0, 1, 1, 9948.0205078125, 1932.390625, 1328.691162109375, 3.682650327682495117, 0, 0, -0.96362972259521484, 0.26724100112915039, 120, 255, 1, "", 46248, NULL),
(83039, 181227, 1, 0, 0, 1, 1, 9914.181640625, 1864.6636962890625, 1321.25927734375, 2.914689540863037109, 0, 0, 0.993571281433105468, 0.113208353519439697, 120, 255, 1, "", 46248, NULL),
(83040, 181227, 1, 0, 0, 1, 1, -1545.46875, 51.28591537475585937, 5.394122123718261718, 0.628316879272460937, 0, 0, 0.309016227722167968, 0.95105677843093872, 120, 255, 1, "", 45572, NULL),
(83041, 181227, 0, 0, 0, 1, 1, 1980.00830078125, 305.231231689453125, 41.1893310546875, 0.436331570148468017, 0, 0, 0.216439247131347656, 0.976296067237854003, 120, 255, 1, "", 45572, NULL),
(83042, 181227, 1, 0, 0, 1, 1, 1179.3914794921875, -4564.47509765625, 21.45466232299804687, 0.575957298278808593, 0, 0, 0.284014701843261718, 0.958819925785064697, 120, 255, 1, "", 45572, NULL),
(83043, 181227, 1, 0, 0, 1, 1, 1148.54345703125, -4488.125, 19.8805694580078125, 4.014260292053222656, 0, 0, -0.90630722045898437, 0.422619491815567016, 120, 255, 1, "", 45613, NULL),
(83044, 181227, 0, 0, 0, 1, 1, -9240.787109375, 238.191192626953125, 72.8129730224609375, 4.572763919830322265, 0, 0, -0.75470924377441406, 0.656059443950653076, 120, 255, 1, "", 46158, NULL),
(83045, 181227, 0, 0, 0, 1, 1, -5375.5400390625, -735.15399169921875, 396.021240234375, 0.052358884364366531, 0, 0, 0.02617645263671875, 0.999657332897186279, 120, 255, 1, "", 46158, NULL),
(83046, 181227, 0, 0, 0, 1, 1, -9218.103515625, 318.78509521484375, 73.86499786376953125, 3.019413232803344726, 0, 0, 0.998134613037109375, 0.061051756143569946, 120, 255, 1, "", 45613, NULL),
(83047, 181227, 0, 0, 0, 1, 1, -5273.17236328125, -739.599853515625, 391.00933837890625, 2.513273954391479492, 0, 0, 0.951056480407714843, 0.309017121791839599, 120, 255, 1, "", 45613, NULL),
(83048, 181227, 0, 0, 0, 1, 1, -9244.455078125, 418.84027099609375, 87.46126556396484375, 3.001946926116943359, 0, 0, 0.997563362121582031, 0.069766148924827575, 120, 255, 1, "", 45613, NULL),
(83049, 181227, 0, 0, 0, 1, 1, -9183.8310546875, 416.188262939453125, 89.9123077392578125, 0.401424884796142578, 0, 0, 0.199367523193359375, 0.979924798011779785, 120, 255, 1, "", 45613, NULL);

-- new spawns
DELETE FROM `gameobject` WHERE (`id` IN (181227)) AND (`guid` BETWEEN 684 AND 691);
INSERT INTO `gameobject` (`guid`, `id`, `map`, `zoneId`, `areaId`, `spawnMask`, `phaseMask`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecs`, `animprogress`, `state`, `ScriptName`, `VerifiedBuild`, `Comment`) VALUES
(684, 181227, 530, 0, 0, 1, 1, -4018.017333984375, -12150.943359375, 2.146352052688598632, 0.401424884796142578, 0, 0, 0.199367523193359375, 0.979924798011779785, 120, 255, 1, "", 45942, NULL),
(685, 181227, 530, 0, 0, 1, 1, -4105.47412109375, -12068.884765625, 3.33672499656677246, 4.572763919830322265, 0, 0, -0.75470924377441406, 0.656059443950653076, 120, 255, 1, "", 45435, NULL),
(686, 181227, 530, 0, 0, 1, 1, -4156.29150390625, -12123.388671875, 0.412930011749267578, 3.001946926116943359, 0, 0, 0.997563362121582031, 0.069766148924827575, 120, 255, 1, "", 45435, NULL),
(687, 181227, 530, 0, 0, 1, 1, -4183.55712890625, -12084.744140625, 2.419261932373046875, 3.019413232803344726, 0, 0, 0.998134613037109375, 0.061051756143569946, 120, 255, 1, "", 45435, NULL),
(688, 181227, 530, 0, 0, 1, 1, 9218.56640625, -7347.048828125, 39.06943511962890625, 3.001946926116943359, 0, 0, 0.997563362121582031, 0.069766148924827575, 120, 255, 1, "", 45942, NULL),
(689, 181227, 530, 0, 0, 1, 1, 9252.6943359375, -7315.2275390625, 26.01463890075683593, 3.019413232803344726, 0, 0, 0.998134613037109375, 0.061051756143569946, 120, 255, 1, "", 45942, NULL),
(690, 181227, 530, 0, 0, 1, 1, 9290.8349609375, -7356.06689453125, 24.00287437438964843, 0.401424884796142578, 0, 0, 0.199367523193359375, 0.979924798011779785, 120, 255, 1, "", 45942, NULL),
(691, 181227, 530, 0, 0, 1, 1, 9348.1875, -7351.76904296875, 12.69027996063232421, 4.572763919830322265, 0, 0, -0.75470924377441406, 0.656059443950653076, 120, 255, 1, "", 45572, NULL);

-- enable all spawns for eventEntry 17
DELETE FROM `game_event_gameobject` WHERE (`eventEntry` = 17) AND (`guid` IN (SELECT `guid` FROM `gameobject` WHERE `id` IN (181227)));
INSERT INTO `game_event_gameobject` (SELECT 17, `guid` FROM `gameobject` WHERE `id` IN (181227));

-- Update creature 'Spectral Spirit' with sniffed values
-- updated spawns
DELETE FROM `creature` WHERE (`id1` IN (16437)) AND (`guid` IN (153416, 153417, 153418, 153419, 153420, 153421, 153422, 153423, 153424, 153425, 153426, 153427, 153428, 153429, 153447, 153454, 153459, 153461, 153462, 153463, 153464, 153465, 153466, 153467, 153468, 153469, 153470, 153471, 153472, 153473, 153480, 153486, 153492));
INSERT INTO `creature` (`guid`, `id1`, `map`, `spawnMask`, `phaseMask`, `equipment_id`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecs`, `wander_distance`, `MovementType`, `npcflag`, `unit_flags`, `dynamicflags`, `ScriptName`, `VerifiedBuild`, `CreateObject`, `Comment`) VALUES
(153416, 16437, 0, 1, 1, 0, -5271.24609375, -754.01171875, 391.332427978515625, 3.622705936431884765, 120, 3, 1, 0, 0, 0, "", 46158, 1, NULL),
(153417, 16437, 0, 1, 1, 0, -5276.23095703125, -699.53021240234375, 390.29425048828125, 3.061814069747924804, 120, 3, 1, 0, 0, 0, "", 49345, 1, NULL),
(153418, 16437, 0, 1, 1, 0, -5292.99169921875, -733.9814453125, 388.457427978515625, 4.743587017059326171, 120, 3, 1, 0, 0, 0, "", 49345, 1, NULL),
(153419, 16437, 0, 1, 1, 0, -5300.16748046875, -679.5177001953125, 388.429656982421875, 4.675374507904052734, 120, 3, 1, 0, 0, 0, "", 49345, 1, NULL),
(153420, 16437, 0, 1, 1, 0, -5307.5185546875, -765.8560791015625, 389.279205322265625, 1.850542306900024414, 120, 3, 1, 0, 0, 0, "", 46248, 1, NULL),
(153421, 16437, 0, 1, 1, 0, -5310.208984375, -704.794921875, 392.332427978515625, 2.057999610900878906, 120, 3, 1, 0, 0, 0, "", 49345, 1, NULL),
(153422, 16437, 0, 1, 1, 0, -5334.5673828125, -793.8668212890625, 389.619476318359375, 5.25991058349609375, 120, 3, 1, 0, 0, 0, "", 49345, 1, NULL),
(153423, 16437, 0, 1, 1, 0, -5342.58837890625, -697.68975830078125, 393.2384033203125, 2.010777950286865234, 120, 3, 1, 0, 0, 0, "", 49345, 1, NULL),
(153424, 16437, 0, 1, 1, 0, -5361.099609375, -739.6923828125, 396.003814697265625, 4.679796218872070312, 120, 3, 1, 0, 0, 0, "", 49345, 1, NULL),
(153425, 16437, 0, 1, 1, 0, -5369.26171875, -794.86529541015625, 398.446075439453125, 2.031130790710449218, 120, 3, 1, 0, 0, 0, "", 49345, 1, NULL),
(153426, 16437, 0, 1, 1, 0, -5376.01904296875, -766.24688720703125, 396.991363525390625, 4.509352684020996093, 120, 3, 1, 0, 0, 0, "", 49345, 1, NULL),
(153427, 16437, 0, 1, 1, 0, -5369.435546875, -704.484375, 396.188812255859375, 2.210784673690795898, 120, 3, 1, 0, 0, 0, "", 46248, 1, NULL),
(153428, 16437, 0, 1, 1, 0, -5394.58544921875, -735.02130126953125, 396.274078369140625, 2.538081645965576171, 120, 3, 1, 0, 0, 0, "", 49345, 1, NULL),
(153429, 16437, 0, 1, 1, 0, -5403.60791015625, -769.998046875, 395.008575439453125, 4.333511829376220703, 120, 3, 1, 0, 0, 0, "", 49345, 1, NULL),
(153447, 16437, 1, 1, 1, 0, -1576.1729736328125, 77.21936798095703125, -7.34216499328613281, 5.083232402801513671, 120, 3, 1, 0, 0, 0, "", 46248, 1, NULL),
(153454, 16437, 1, 1, 1, 0, -1523.54443359375, 54.8382720947265625, 6.090775489807128906, 2.415332794189453125, 120, 3, 1, 0, 0, 0, "", 46248, 1, NULL),
(153459, 16437, 1, 1, 1, 0, -1489.212158203125, 90.4298553466796875, 6.546192169189453125, 2.594491004943847656, 120, 3, 1, 0, 0, 0, "", 46248, 1, NULL),
(153461, 16437, 1, 1, 1, 0, 1139.164794921875, -4506.48388671875, 19.40609169006347656, 1.072573661804199218, 120, 3, 1, 0, 0, 0, "", 45613, 1, NULL),
(153462, 16437, 1, 1, 1, 0, 1142.3961181640625, -4543.2646484375, 18.10861778259277343, 2.071631431579589843, 120, 3, 1, 0, 0, 0, "", 46248, 1, NULL),
(153463, 16437, 1, 1, 1, 0, 1160.7200927734375, -4495.1259765625, 20.68977546691894531, 3.212122917175292968, 120, 3, 1, 0, 0, 0, "", 45572, 1, NULL),
(153464, 16437, 1, 1, 1, 0, 1158.5277099609375, -4526.83154296875, 20.63541221618652343, 1.537212610244750976, 120, 3, 1, 0, 0, 0, "", 45572, 1, NULL),
(153465, 16437, 1, 1, 1, 0, 1156.3204345703125, -4560.56103515625, 18.83359336853027343, 4.258000850677490234, 120, 3, 1, 0, 0, 0, "", 46248, 1, NULL),
(153466, 16437, 1, 1, 1, 0, 1175.227294921875, -4525.54931640625, 21.00127792358398437, 4.397952556610107421, 120, 3, 1, 0, 0, 0, "", 46248, 1, NULL),
(153467, 16437, 1, 1, 1, 0, 1175.0177001953125, -4578.10107421875, 18.66058158874511718, 5.339640140533447265, 120, 3, 1, 0, 0, 0, "", 45572, 1, NULL),
(153468, 16437, 1, 1, 1, 0, 1185.41650390625, -4508.57470703125, 21.56365585327148437, 2.907642841339111328, 120, 3, 1, 0, 0, 0, "", 45613, 1, NULL),
(153469, 16437, 1, 1, 1, 0, 1188.638671875, -4543.736328125, 19.42718124389648437, 3.609257936477661132, 120, 3, 1, 0, 0, 0, "", 46248, 1, NULL),
(153470, 16437, 1, 1, 1, 0, 1187.5106201171875, -4589.75830078125, 18.03423881530761718, 4.280419826507568359, 120, 3, 1, 0, 0, 0, "", 46248, 1, NULL),
(153471, 16437, 1, 1, 1, 0, 1206.37158203125, -4525.85205078125, 19.13112831115722656, 4.001062393188476562, 120, 3, 1, 0, 0, 0, "", 46248, 1, NULL),
(153472, 16437, 1, 1, 1, 0, 1221.065185546875, -4518.12060546875, 20.97634315490722656, 4.477022171020507812, 120, 3, 1, 0, 0, 0, "", 45613, 1, NULL),
(153473, 16437, 1, 1, 1, 0, 1225.3250732421875, -4577.95654296875, 18.35081100463867187, 4.778232097625732421, 120, 3, 1, 0, 0, 0, "", 46248, 1, NULL),
(153480, 16437, 1, 1, 1, 0, 9894.51171875, 1875.1895751953125, 1320.7158203125, 6.033982276916503906, 120, 3, 1, 0, 0, 0, "", 46248, 1, NULL),
(153486, 16437, 1, 1, 1, 0, 9926.826171875, 1858.5548095703125, 1321.956787109375, 4.788326263427734375, 120, 3, 1, 0, 0, 0, "", 46248, 1, NULL),
(153492, 16437, 1, 1, 1, 0, 9957.712890625, 1925.7977294921875, 1327.6348876953125, 1.655751347541809082, 120, 3, 1, 0, 0, 0, "", 46248, 1, NULL);

-- remove duplicate / invalid spawns
DELETE FROM `creature` WHERE (`id1` IN (16437)) AND (`guid` IN (153415, 153460, 153458, 153457, 153456, 153455, 153453, 153452, 153451, 153450, 153449, 153448, 153446, 153474, 153475, 153476, 153477, 153478, 153479, 153481, 153482, 153483, 153484, 153485, 153487, 153488, 153489, 153490, 153491));
DELETE FROM `creature_addon` WHERE (`guid` IN (153415, 153460, 153458, 153457, 153456, 153455, 153453, 153452, 153451, 153450, 153449, 153448, 153446, 153474, 153475, 153476, 153477, 153478, 153479, 153481, 153482, 153483, 153484, 153485, 153487, 153488, 153489, 153490, 153491));
DELETE FROM `game_event_creature` WHERE (`eventEntry` = 17) AND (`guid` IN (153415, 153460, 153458, 153457, 153456, 153455, 153453, 153452, 153451, 153450, 153449, 153448, 153446, 153474, 153475, 153476, 153477, 153478, 153479, 153481, 153482, 153483, 153484, 153485, 153487, 153488, 153489, 153490, 153491));

-- enable all spawns for eventEntry 17
DELETE FROM `game_event_creature` WHERE (`eventEntry` = 17) AND (`guid` IN (SELECT `guid` FROM `creature` WHERE `id1` IN (16437)));
INSERT INTO `game_event_creature` (SELECT 17, `guid` FROM `creature` WHERE `id1` IN (16437));

-- clean areas of default creature spawns
DELETE FROM `game_event_creature` WHERE (`eventEntry` = -17) AND (`guid` IN (12128, 12370, 4779, 12933, 49925, 47452, 47920));
INSERT INTO `game_event_creature` (`eventEntry`, `guid`) VALUES
-- Orgrimmar
(-17, 12128), -- Elder Mottled boar
(-17, 12370), -- Venomtail Scorpid
(-17, 4779),  -- Bloodtalon Taillasher
(-17, 12933), -- Dustwind Pillager
-- Darnassus
(-17, 49925), -- Nightsaber Stalker
(-17, 47452), -- Strigid Screecher
(-17, 47920); -- Rabbit

-- todo: plot creature spawns
-- TODO despawn normal mobs at the circle locations (like boars in front of orgrimmar)

-- TODO: update creature spawns with sniffed values
-- TODO: check quest pois - there's like 4 pois for each quest on the map - one should be sufficient imo (?)
-- TODO: ensure these do not count towards loremaster

-- 9260 Investigate the Scourge of Stormwind (A)
-- .go c id 16478

-- 9261 Investigate the Scourge of Ironforge (A)
-- .go c id 16484
-- missing mobs in front of town

-- 9262 Investigate the Scourge of Darnassus (A)
-- .go c id 16495

-- 9263 Investigate the Scourge of Orgrimmar (H)
-- .go c id 16493
-- has quite a few mobs in front of orgrimmar, apparently in the wrong spot, does not match quest poi
-- missing mobs in front of town

-- 9264 Investigate the Scourge of Thunder Bluff (H)
-- .go c id 16490

-- 9265 Investigate the Scourge of the Undercity (H)
-- .go c id 16494

-- 12816 Investigate the Scourge of Silvermoon (H)
-- .go c id 29441
-- missing mobs in front of town

-- 12817 Investigate the Scourge of Exodar (A)
-- .go c id 29442
-- missing mobs in front of town
